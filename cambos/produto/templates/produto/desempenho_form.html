{% extends "cambos/base.html" %}

{% block css %}
{{ form.media.css }}
{% endblock css %}

{% block navigation %}
    <div class="row">
        <ol class="breadcrumb">
            <li><a href="{% url 'core_index' %}?setor={{ request.GET.setor }}&periodo={{ request.GET.periodo }}">
                <em class="fa fa-home"></em>
            </a></li>
            <li class=""><a href="{% url 'desempenho_list' %}?setor={{ request.GET.setor }} & periodo={{ request.GET.periodo }}">Desempenho</a></li>
            <li class="active">Registro</li>
        </ol>
    </div><!--/.row-->
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">{{setor.nome}}<span class="text-muted small"> - {{periodo}}</span></h1>
        </div>
    </div><!--/.row-->
{% endblock navigation %}

{% block content %}		

<div class="modal-dialog modal-lg">
    <div class="modal-content">
        <form method="post" autocomplete="off">
              <div class="modal-header">
                <a href="javascript:void(0)" onClick="history.go(-1); return false;" type="button" class="close" aria-hidden="true">×</a>
                <h3 class="modal-title">Desempenho no Período</h3>
              </div>
              <div class="modal-body">                
                    {% csrf_token %}
                    {{ form.non_field_errors }}
                    <div class="form-group">
                    {% for field in form %}
                        <div class="form-group">
                            {% if field.errors %}
                                <ul class="form-errors">
                                {% for error in field.errors %}
                                    <li><span class="fa fa-exclamation-triangle"></span> <strong>{{ error|escape }}</strong></li>
                                {% endfor %}
                                </ul>
                            {% endif %}                            
                            {% if field.help_text %}<div class="form-helptext">{{ field.help_text }}</div>{% endif %}                    
                        </div>
                    {% endfor %}
                    {{ form.capacidade_total.label_tag }}
                    {{form.capacidade_total}}
                    <br>
                    {{form.dias_trabalhados.label_tag }}
                    {{form.dias_trabalhados}}
                    <br>
                    {{form.total_planejado.label_tag }}
                    {{form.total_planejado}}
                    <br>
                    {{form.headcount.label_tag }}
                    {{form.headcount}}
                    <br>
                                        
                    {{form.setup.label_tag }}
                    {{form.setup}}
                    <br>                    
                    {{form.manutencao_corretiva.label_tag }}
                    {{form.manutencao_corretiva}}
                    <br>
                    {{form.manutencao_preventiva.label_tag }}
                    {{form.manutencao_preventiva}}
                    <br>                    
                    {% if setor.nome == "Expedição" %}
                        {{form.expedidores.label_tag }}
                        {{form.expedidores}}
                        <br>
                        {{form.total_expedido.label_tag }}
                        {{form.total_expedido}}
                        <br>
                        {{form.total_recebido.label_tag }}
                        {{form.total_recebido}}
                        <br>
                        {{form.carga_descarga.label_tag }}
                        {{form.carga_descarga}}
                        <br>

                    {% elif setor.nome == "Revisão" %}
                        {{form.revisores.label_tag }}
                        {{form.revisores}}
                        <br>
                    {% elif setor.nome == "Acabamento" %}
                        {{form.total_alvejado.label_tag }}
                        {{form.total_alvejado}}
                        <br>
                        {{form.total_chamuscado.label_tag }}
                        {{form.total_chamuscado}}
                        <br>                    
                        {{form.total_tingido.label_tag }}
                        {{form.total_tingido}}
                        <br>
                    {% endif%}

              </div>
              <div class="modal-footer">
                <a href="javascript:void(0)" onClick="history.go(-1); return false;" type="button" class="btn btn-primary">Retornar</a>
                <input type="submit" class="btn btn-success" value="Salvar"  />                
              </div>
        </form>
       
    </div><!-- /.modal-content -->
</div><!-- /.modal-dialog -->
{% endblock content %}
{% block script %}
 {{ form.media.js }}
	<script>
        let option = document.getElementById('setor{{setor.id}}');        
        option.setAttribute('class', 'active');					           
      </script>
      <script>
        $(document).ready(function(){            
            $(".enabled").attr("class", "disabled");
            $(".disabled a").removeAttr("href");    
            $(".date").css('pointer-events', 'none');       
        });
      </script>

{% endblock script %}